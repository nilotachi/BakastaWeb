<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bakasta Mu — Portal (Bootstrap)</title>
  <meta name="description" content="Portal do servidor Bakasta Mu — notícias, eventos e rankings." />
  <!-- Bootstrap 5 (CSS only) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Tema do Bakasta (já criado no canvas) -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="topbar">
    <div class="container nav" role="navigation" aria-label="Navegação principal">
      <a class="brand" href="index_bootstrap.html">
        <span class="brand__badge">
          <img src="img/logo.png" alt="Logo Bakasta Mu" />
        </span>
        <span>Bakasta <span class="muted">Mu</span></span>
      </a>
      
      <!-- Botão hamburguesa para mobile -->
      <button class="navbar-toggler" type="button" id="menuToggle" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <!-- Menu de navegação -->
      <nav class="menu" id="mainMenu" aria-label="Menu">
        <a href="index_bootstrap.html#home">Início</a>
        <a href="downloads.html">Downloads</a>
        <a href="index_bootstrap.html#eventos">Eventos</a>
        <div class="dropdown" id="userMenu">
          <a href="#" class="dropdown-toggle">Usuário</a>
          <div class="dropdown-menu">
            <a href="usuario.html">Minha Conta</a>
            <a href="usuario.html#senha">Mudar Senha</a>
            <a href="#" id="logoutLink">Sair</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="#" class="dropdown-toggle">Informações</a>
          <div class="dropdown-menu">
            <a href="info.html">Informações Gerais</a>
            <a href="index_bootstrap.html#ranking">Ranking</a>
            <a href="ajuda.html">Ajuda</a>
            <a href="regras.html">Regras</a>
            <a href="contato.html">Contato</a>
            <a href="https://discord.gg/k6fRn8wX" target="_blank">Discord</a>
          </div>
        </div>
        <a href="doacoes.html">Doações</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="container text-center py-4">
      <h1>Bakasta Mu <span class="small">Servidor Semi-Hard</span></h1>
    </div>
  </section>

  <!-- Aviso geral -->
  <div class="announce">Servidor em BETA — explore, reporte e divirta-se! ⚔️</div>

  <main class="container my-4">
    <!-- ROW 1: Notícias (esq) | Painel + Informações (dir) -->
    <div class="row g-4 align-items-stretch">
      <!-- Esquerda -->
      <div class="col-lg-8 d-flex">
        <section class="card card--compact w-100" aria-labelledby="ttl-news">
          <header class="card__hdr d-flex justify-content-between align-items-center">
            <h2 id="ttl-news" class="card__title m-0">Últimas Notícias</h2>
            <span class="pill">Feed</span>
          </header>
          <div class="card__body">
            <div class="news">
              <article class="news__item">
                <div class="news__icon" aria-hidden="true">★</div>
                <div>
                  <h3 class="news__title">Bem-vindos ao Bakasta Mu</h3>
                  <div class="news__meta">Postado por <strong>Admin</strong> em 18/07/2025 04:53</div>
                  <p class="news__excerpt">Layout limpo e responsivo. Conteúdo dinâmico virá do backend.</p>
                </div>
              </article>
              <article class="news__item">
                <div class="news__icon" aria-hidden="true">★</div>
                <div>
                  <h3 class="news__title">Eventos em ciclos</h3>
                  <div class="news__meta">Postado por <strong>Admin</strong> em 03/09/2025 19:21</div>
                  <p class="news__excerpt">Estrutura pronta para countdown com horários e intervalos.</p>
                </div>
              </article>
            </div>
          </div>
        </section>
      </div>

      <!-- Direita: stack -->
      <div class="col-lg-4 d-flex">
        <div class="d-flex flex-column gap-3 w-100 h-100">
          <section id="loginSection" class="card card--compact" aria-labelledby="login-ttl">
            <header class="card__hdr"><h2 id="login-ttl" class="card__title m-0">Login</h2></header>
            <div class="card__body">
              <form class="form" action="#" method="post" autocomplete="off" novalidate>
                <label>
                  <span class="muted">Usuário</span>
                  <input class="input" type="text" name="username" inputmode="text" placeholder="Seu usuário" aria-label="Usuário" />
                </label>
                <label>
                  <span class="muted">Senha</span>
                  <input class="input" type="password" name="password" placeholder="••••••••" aria-label="Senha" />
                </label>
                <button class="btn btn--primary" type="button" id="loginBtn">Entrar</button>
                <button class="btn btn--secondary" type="button">Cadastrar</button>
                <p class="hint">⚠️ Ilustrativo. Ao implementar, use HTTPS, CSRF, rate limit e hashing forte (Argon2/BCrypt).</p>
              </form>
            </div>
          </section>

          <section id="userPanel" class="card card--compact" aria-labelledby="user-ttl">
            <header class="card__hdr"><h2 id="user-ttl" class="card__title m-0">Bem-vindo</h2></header>
            <div class="card__body d-grid gap-2">
              <p>Você já está logado.</p>
              <a class="btn btn--primary" href="usuario.html">Minha Conta</a>
              <a class="btn btn--secondary" href="usuario.html#senha">Mudar Senha</a>
              <button class="btn" type="button" id="logoutBtn">Sair</button>
            </div>
          </section>

          <section class="card flex-fill glow" aria-labelledby="info-ttl">
            <header class="card__hdr"><h2 id="info-ttl" class="card__title m-0">Informações</h2></header>
            <div class="card__body d-grid gap-2">
              <div class="info__row"><span>Versão</span><span class="pill">97d+99i</span></div>
              <div class="info__row"><span>Experiência</span><span class="pill">100x</span></div>
              <div class="info__row"><span>Drop</span><span class="pill">30%</span></div>
              <div class="info__row"><span>Total de Contas</span><span class="pill">89</span></div>
              <div class="info__row"><span>Total de Personagens</span><span class="pill">21</span></div>
              <div class="info__row"><span>Total de Guilds</span><span class="pill">5</span></div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <!-- ROW 2: Rankings (esq) | Eventos + Guia (dir) -->
    <div class="row g-4 align-items-stretch mt-1">
      <!-- Esquerda -->
      <div class="col-lg-8 d-flex">
        <section id="ranking" class="card card--compact w-100" aria-labelledby="ranks-title">
          <header class="card__hdr d-flex justify-content-between align-items-center">
            <h2 id="ranks-title" class="card__title m-0">Rankings</h2>
            <span class="pill">Hall, PK, Eventos</span>
          </header>
          <div class="card__body">
            <div class="rank-grid">
              <div class="rank-card">
                <strong>Blood Castle</strong>
                <div>Top 1: <span class="name">nick1</span> <span class="class-badge bk" title="BK" aria-label="BK"></span></div>
              </div>
              <div class="rank-card">
                <strong>Devil Square</strong>
                <div>Top 1: <span class="name">nick1</span> <span class="class-badge mg" title="MG" aria-label="MG"></span></div>
              </div>
              <div class="rank-card">
                <strong>Ranking PK</strong>
                <div>Top 1: <span class="name">nick1</span> <span class="class-badge bk" title="BK" aria-label="BK"></span></div>
              </div>
              <div class="rank-card">
                <strong>Resets</strong>
                <div>Top 1: <span class="name">nick1</span> <span class="class-badge bk" title="BK" aria-label="BK"></span></div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Direita: stack -->
      <div class="col-lg-4 d-flex">
        <div class="d-flex flex-column gap-3 w-100 h-100">
          <section id="eventos" class="card" aria-labelledby="evt-ttl">
            <header class="card__hdr"><h2 id="evt-ttl" class="card__title m-0">Eventos</h2></header>
            <div class="card__body">
              <div class="events" style="min-height:0">
                <div class="events__row" data-event="Blood Castle" data-start="02:00" data-interval-hours="4">
                  <span class="events__title">Blood Castle</span>
                  <span class="events__meta"><span>Próximo às</span><strong>02:00</strong><span class="pill">+4h</span><span class="events__count">em 01h 23m*</span></span>
                </div>
                <div class="events__row" data-event="Chaos Castle" data-start="03:00" data-interval-hours="2">
                  <span class="events__title">Chaos Castle</span>
                  <span class="events__meta"><span>Próximo às</span><strong>03:00</strong><span class="pill">+2h</span><span class="events__count">em 00h 45m*</span></span>
                </div>
                <div class="events__row" data-event="Devil Square" data-start="20:00" data-interval-hours="24">
                  <span class="events__title">Devil Square</span>
                  <span class="events__meta"><span>Próximo às</span><strong>20:00</strong><span class="pill">diário</span><span class="events__count">em 07h 12m*</span></span>
                </div>
                <p class="hint">*Contagem ilustrativa. Para countdown em tempo real, adiciono um JS leve que lê os <code>data-*</code> acima.</p>
              </div>
            </div>
          </section>

        </div>
      </div>
    </div>

    <!-- ROW 3: Galeria (esq) | Guia (dir) -->
    <div class="row g-4 align-items-start mt-1">
      <!-- Esquerda -->
      <div class="col-lg-8">
        <section class="card w-100" aria-labelledby="gallery-ttl">
          <header class="card__hdr"><h2 id="gallery-ttl" class="card__title m-0">Galeria</h2></header>
          <div class="card__body">
            <div id="galleryCarousel" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="img/slide1.jpg" class="d-block w-100" alt="Imagem 1" />
                </div>
                <div class="carousel-item">
                  <img src="img/slide2.jpeg" class="d-block w-100" alt="Imagem 2" />
                </div>
                <div class="carousel-item">
                  <img src="img/slide3.png" class="d-block w-100" alt="Imagem 3" />
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Próximo</span>
              </button>
            </div>
          </div>
        </section>
      </div>

      <!-- Direita -->
      <div class="col-lg-4">
        <section class="card" aria-labelledby="guide-ttl">
          <header class="card__hdr"><h2 id="guide-ttl" class="card__title m-0">Guia Rápido</h2></header>
          <div class="card__body d-grid gap-2">
            <a class="rank-card" href="#downloads"><strong>Downloads</strong><small>Cliente, patch, anti-cheat</small></a>
            <a class="rank-card" href="#regras"><strong>Regras</strong><small>Jogabilidade e conduta</small></a>
            <a class="rank-card" href="https://discord.gg/k6fRn8wX" target="_blank" rel="noopener noreferrer"><strong>Discord</strong><small>Suporte e comunidade</small></a>
            <div class="guide__row"><span>Dica do Dia</span><span class="pill">Use /post com moderação</span></div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>© <span id="y">2025</span> Bakasta Mu. Fan project sem vínculo com Webzen — marcas são de seus respectivos donos.</p>
      <p class="mt-3">Layout leve. Substitua textos e números por conteúdo dinâmico quando integrar ao backend.</p>
    </div>
  </footer>
  <script>
    document.getElementById('loginBtn')?.addEventListener('click', () => {
      localStorage.setItem('loggedIn', 'true');
      window.location.href = 'usuario.html';
    });
    const userMenu = document.getElementById('userMenu');
    const loginSection = document.getElementById('loginSection');
    const userPanel = document.getElementById('userPanel');
    const logoutLink = document.getElementById('logoutLink');
    const logoutBtn = document.getElementById('logoutBtn');
    if (localStorage.getItem('loggedIn')) {
      userMenu?.style.display = 'block';
      loginSection?.style.setProperty('display', 'none');
      userPanel?.style.setProperty('display', 'block');

      [logoutLink, logoutBtn].forEach((el) => {
        el?.addEventListener('click', (e) => {
          e.preventDefault();
          localStorage.removeItem('loggedIn');
          window.location.href = 'index_bootstrap.html';
        });
      });
    } else {
      userMenu?.remove();
    }
    
    [logoutLink, logoutBtn].forEach((el) => {
      el?.addEventListener('click', (e) => {
        e.preventDefault();
        localStorage.removeItem('loggedIn');
        window.location.href = 'index_bootstrap.html';
      });
    });

    });
  </script>
  
  <!-- ===== SISTEMA DE MENÚ COMPLETAMENTE RENOVADO ===== -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.getElementById('menuToggle');
      const mainMenu = document.getElementById('mainMenu');
      const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
      
      // ===== TOGGLE DEL MENÚ HAMBURGUESA =====
      menuToggle.addEventListener('click', function() {
        mainMenu.classList.toggle('show');
        
        // Cambia el ícono del botón
        const icon = this.querySelector('.navbar-toggler-icon');
        if (mainMenu.classList.contains('show')) {
          icon.style.backgroundImage = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(204, 213, 207, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M6 18L18 6M6 6l12 12'/%3e%3c/svg%3e\")";
        } else {
          icon.style.backgroundImage = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(204, 213, 207, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")";
        }
      });
      
      // ===== SISTEMA DE DROPDOWNS =====
      dropdownToggles.forEach(toggle => {
        toggle.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          const dropdown = this.closest('.dropdown');
          const dropdownMenu = dropdown.querySelector('.dropdown-menu');
          
          // Cierra otros dropdowns abiertos
          document.querySelectorAll('.dropdown.show').forEach(openDropdown => {
            if (openDropdown !== dropdown) {
              openDropdown.classList.remove('show');
            }
          });
          
          // Toggle del dropdown actual
          dropdown.classList.toggle('show');
        });
      });
      
      // ===== CERRAR MENÚ AL HACER CLIC FUERA =====
      document.addEventListener('click', function(e) {
        // Si no es el botón del menú ni está dentro del menú
        if (!e.target.closest('#mainMenu') && !e.target.closest('#menuToggle')) {
          mainMenu.classList.remove('show');
          
          // Restaura el ícono del botón
          const icon = menuToggle.querySelector('.navbar-toggler-icon');
          icon.style.backgroundImage = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(204, 213, 207, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")";
          
          // Cierra todos los dropdowns
          document.querySelectorAll('.dropdown.show').forEach(dropdown => {
            dropdown.classList.remove('show');
          });
        }
      });
      
      // ===== CERRAR MENÚ AL REDIMENSIONAR A DESKTOP =====
      window.addEventListener('resize', function() {
        if (window.innerWidth >= 992) {
          mainMenu.classList.remove('show');
          const icon = menuToggle.querySelector('.navbar-toggler-icon');
          icon.style.backgroundImage = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(204, 213, 207, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 23h22M4 23h22'/%3e%3c/svg%3e\")";
        }
      });
    });
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
