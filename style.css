/* ===============
   Bakasta Mu — styles.css
   =============== */

/* ---------- Reset ---------- */
*,*::before,*::after{box-sizing:border-box}
html{-webkit-text-size-adjust:100%}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;line-height:1.6;color:#e9e9f0;background:#0b0b0e}
img{max-width:100%;height:auto;display:inline-block;vertical-align:middle}
a{color:inherit;text-decoration:none}

/* ---------- Paleta ---------- */
:root{
  --bg:#0b0b0e; --panel:#0000; --panel2:#151520; --card:#14141b; --txt:#e9e9f0; --muted:#a6a6b3;
  --primary:#ef4444; --primary-700:#b91c1c; --accent:#f59e0b; --border:#262635;
}

.container{width:min(1200px,100%);margin-inline:auto;padding-inline:1rem}

/* ---------- Header ---------- */
.topbar{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(0,0,0,.9),rgba(0,0,0,.6));backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--border)}
.nav{height:64px;display:flex;align-items:center;justify-content:space-between;gap:1rem}
.brand{display:flex;align-items:center;gap:.75rem;font-weight:800;letter-spacing:.5px}
.brand__badge{width:36px;aspect-ratio:1;border-radius:8px;background:radial-gradient(circle at 30% 30%, #7f1d1d, #111);border:1px solid var(--border);display:grid;place-items:center}
.menu{display:flex;gap:.75rem;flex-wrap:wrap}
.menu a{padding:.5rem .75rem;border-radius:.5rem;border:1px solid transparent}
.menu a:hover{background:#151520;border-color:var(--border)}

/* ---------- Hero ---------- */
.hero{min-height:200px;display:grid;place-items:center;border-bottom:1px solid var(--border);background:
  radial-gradient(120% 60% at 10% 0%, rgba(245,158,11,.10), transparent 50%),
  radial-gradient(140% 80% at 90% 10%, rgba(185,28,28,.12), transparent 60%)}
.hero h1{font-weight:900;letter-spacing:.6px;text-transform:uppercase;text-align:center}
.hero .small{display:block;color:var(--accent);font-weight:700;letter-spacing:.3px;margin-top:.35rem}

.announce{background:var(--primary);color:#fff;text-align:center;padding:.5rem 1rem;font-weight:700}

/* ---------- Grid principal ---------- */
.main{display:grid;grid-template-columns:minmax(0,2fr) minmax(280px,1fr);column-gap:1.25rem;row-gap:1.25rem;padding-block:1.25rem;align-items:stretch;grid-auto-rows:1fr}
@media (max-width: 991px){.main{grid-template-columns:1fr;grid-auto-rows:auto}}

/* Wrappers coluna direita por linha, com espaçamento uniforme */
.stack{display:flex;flex-direction:column;gap:1rem;min-height:0}

/* ---------- Cards ---------- */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;display:flex;flex-direction:column;min-height:0}
.card__hdr{padding:.85rem 1rem;border-bottom:1px solid var(--border);background:#13131a;display:flex;align-items:center;justify-content:space-between}
.card__title{font-weight:900;letter-spacing:.3px;color:#a6a6b3}
.card__body{padding:1rem;flex:1;min-height:0}

/* compacto (Painel) */
.card--compact .card__body{padding:.7rem 1rem}

/* ---------- Notícias ---------- */
.news{display:flex;flex-direction:column;gap:.6rem;min-height:0}
.news__item{display:grid;grid-template-columns:33px 1fr;gap:.75rem;padding:1rem;border-bottom:1px dashed var(--border)}
.news__item:last-child{border-bottom:0}
.news__icon{display:grid;place-items:center;color:var(--accent)}
.news__title{font-weight:800;margin:0}
.news__meta{color:var(--muted);font-size:.875rem}
.news__excerpt{color:#d8d8de;font-size:.95rem;margin-top:.35rem}

/* ---------- Form / Painel ---------- */
.form{display:grid;gap:.6rem}
.form label{display:grid;gap:.35rem}
.input{background:var(--panel);border:1px solid var(--border);border-radius:.6rem;padding:.55rem .7rem;color:var(--txt);width:100%}
.btn{cursor:pointer;border:0;padding:.55rem .8rem;border-radius:.6rem;font-weight:800;letter-spacing:.3px}
.btn--primary{background:var(--primary);color:#fff}
.btn--primary:hover{background:var(--primary-700)}
.hint{color:var(--muted);font-size:.8rem}

/* ---------- Events ---------- */
.events{display:grid;gap:.6rem}
.events__row,
.info__row,
.guide__row{display:flex;justify-content:space-between;align-items:center;padding:.7rem .75rem;border:1px dashed var(--border);border-radius:.6rem;background:#12121a}
.events__title{font-weight:800}
.events__meta{display:flex;gap:.5rem;align-items:center;color:var(--muted);font-size:.85rem}
.events__count{font-weight:900}

/* ---------- Rank hub ---------- */
.rank-grid{display:grid;grid-template-columns:1fr;gap:.75rem}
@media (min-width:640px){.rank-grid{grid-template-columns:1fr 1fr}}
.rank-card{background:var(--panel2);border:1px solid var(--border);border-radius:.8rem;padding:.9rem;display:grid;gap:.25rem}
.rank-card small{color:var(--muted)}

/* ---------- Slider CSS Top 1-3 com auto-rotação ---------- */
.slider{position:relative;margin-top:1rem;border:1px dashed var(--border);border-radius:.6rem;overflow:hidden;display:flex;flex-direction:column;min-height:420px;flex:1}
.slider.glow{ border: var(--glow-size) solid transparent; /* força o gradiente da classe .glow */ }
@media (max-width:640px){.slider{min-height:280px}}
.slides{display:flex;width:400%;height:100%;will-change:transform;animation:autoroll4 15s linear infinite}
.slide{flex:0 0 100%;position:relative;display:flex;flex-direction:column;height:100%;background:linear-gradient(180deg,#15151d,#0b0b0e);border-right:1px solid var(--border);box-shadow:inset 1px 0 0 rgba(255,255,255,.03), inset -1px 0 0 rgba(0,0,0,.5)}
/* imagem: default + custom override por inline style */
.slide__img{position:absolute;inset:0;background-position:center;background-size:cover;opacity:.45;z-index:0;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="%2315151d"/><stop offset="1" stop-color="%230b0b0e"/></linearGradient></defs><rect width="800" height="400" fill="url(%23g)"/><g fill="%23f59e0b" opacity="0.7"><path d="M400 60l22 45 50 7-36 35 8 50-44-24-44 24 8-50-36-35 50-7z"/></g></svg>');
}
.legend{position:absolute;left:0;right:0;bottom:0;display:grid;gap:.35rem;padding:0 1rem 1rem;z-index:3}
.legend__box{position:relative;background:rgba(0,0,0,.6);backdrop-filter:blur(2px);border:1px solid var(--border);border-radius:.8rem;padding:.9rem;box-shadow:0 8px 24px rgba(0,0,0,.35);max-width:780px;width:min(780px,96%);margin:0 auto;display:grid;gap:.5rem;color:var(--txt)}
.legend__title{margin:0 0 .35rem 0;font-weight:900}
.toplist{list-style:none;margin:0;padding:0;display:grid;gap:.35rem}
.toplist li{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.5rem}
.toplist strong{font-weight:900}
.toplist .name{font-weight:700}
.class-badge{display:inline-block;width:22px;height:22px;border-radius:4px;border:1px solid var(--border);background:#0b0b0e;background-size:cover;background-position:center}
/* placeholders embutidos para classes (BK/SM/ELF/MG) */
.class-badge.bk{background-image:url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2222%22 height=%2222%22 viewBox=%220 0 22 22%22><rect width=%2222%22 height=%2222%22 rx=%224%22 fill=%22%23171722%22/><text x=%225%22 y=%2216%22 font-size=%2210%22 fill=%22%23ffffff%22 font-family=%22Arial%22>BK</text></svg>')}
.class-badge.sm{background-image:url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2222%22 height=%2222%22 viewBox=%220 0 22 22%22><rect width=%2222%22 height=%2222%22 rx=%224%22 fill=%22%23131d26%22/><text x=%224%22 y=%2216%22 font-size=%2210%22 fill=%22%23ffffff%22 font-family=%22Arial%22>SM</text></svg>')}
.class-badge.elf{background-image:url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2222%22 height=%2222%22 viewBox=%220 0 22 22%22><rect width=%2222%22 height=%2222%22 rx=%224%22 fill=%22%23162318%22/><text x=%224%22 y=%2216%22 font-size=%2210%22 fill=%22%23ffffff%22 font-family=%22Arial%22>EL</text></svg>')}
.class-badge.mg{background-image:url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2222%22 height=%2222%22 viewBox=%220 0 22 22%22><rect width=%2222%22 height=%2222%22 rx=%224%22 fill=%22%231a1a1a%22/><text x=%224%22 y=%2216%22 font-size=%2210%22 fill=%22%23ffffff%22 font-family=%22Arial%22>MG</text></svg>')}
.dots{position:absolute;bottom:8px;left:0;right:0;display:flex;justify-content:center;gap:.4rem;z-index:5}
.dot{width:10px;height:10px;border-radius:999px;border:1px solid var(--border);background:#0b0b0e;opacity:.4;transition:opacity .3s,background .3s}
.dot.active{background:var(--accent);opacity:1}
.slider:hover .slides{animation-play-state:paused}
.slider:focus-within .slides{animation-play-state:paused}
.slider__toggle{
  position:absolute;
  width:1px;height:1px;margin:-1px;border:0;padding:0;
  clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap
}

/* ornament / boundary cues for slider */
.slider::before{content:"";position:absolute;inset:0;pointer-events:none;background:
  linear-gradient(90deg, rgba(11,11,14,1), rgba(11,11,14,0) 10%, rgba(11,11,14,0) 90%, rgba(11,11,14,1)),
  linear-gradient(180deg, transparent 0%, rgba(11,11,14,0.8) 100%);z-index:2}

.slider::after{content:"";position:absolute;left:0;bottom:0;height:3px;width:0;background:var(--accent);animation:progressBar 15s linear infinite;z-index:2}
@keyframes progressBar{0%{width:0}100%{width:100%}}

/* legend header with icon (default placeholder) */
.legend__head{display:flex;align-items:center;gap:.6rem}
.legend__icon{width:28px;height:28px;border-radius:6px;border:1px solid var(--border);background:#0b0b0e;background-size:cover;background-position:center;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><rect width="24" height="24" rx="6" fill="%23121218"/><path d="M7 5h10v3a4 4 0 0 1-3 3.87V14h-4v-2.13A4 4 0 0 1 7 8V5zM5 5h2v3a2 2 0 0 0 2 2v1H7a2 2 0 0 1-2-2V5zm12 0h2v4a2 2 0 0 1-2 2h-2V10a2 2 0 0 0 2-2V5z" fill="%23f59e0b"/></svg>')}
/* Ícones por ranking */
.legend__icon.icon-bc{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><rect width="28" height="28" rx="6" fill="%231a1629"/><text x="5" y="19" font-size="12" fill="%23f1f1f1" font-family="Arial" font-weight="700">BC</text></svg>')}
.legend__icon.icon-ds{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><rect width="28" height="28" rx="6" fill="%23201818"/><text x="5" y="19" font-size="12" fill="%23f1f1f1" font-family="Arial" font-weight="700">DS</text></svg>')}
.legend__icon.icon-pk{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><rect width="28" height="28" rx="6" fill="%23181f20"/><text x="5" y="19" font-size="12" fill="%23f1f1f1" font-family="Arial" font-weight="700">PK</text></svg>')}
.legend__icon.icon-resets{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><rect width="28" height="28" rx="6" fill="%23161c12"/><text x="3" y="19" font-size="12" fill="%23f1f1f1" font-family="Arial" font-weight="700">RS</text></svg>')}

/* Glow (borda iluminada) — reutilizável (sem -webkit-mask) */
:root{ --glow-size:2px }
.glow{
  position:relative;
  border: var(--glow-size) solid transparent;
  background:
    linear-gradient(var(--card), var(--card)) padding-box,
    conic-gradient(from var(--glow-angle,0deg), #f59e0b, #ef4444, #f59e0b) border-box;
  border-radius: inherit;
  animation: spinGlow 8s linear infinite;
}
@keyframes spinGlow{ to { --glow-angle: 360deg } }

/* Glow para legend__box (mantém fundo translúcido) */
.legend__box.glow{
  border: var(--glow-size) solid transparent;
  background:
    linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)) padding-box,
    conic-gradient(from var(--glow-angle,0deg), #f59e0b, #ef4444, #f59e0b) border-box;
  animation: spinGlow 10s linear infinite;
}

/* Nova animação estável para 4 slides (sem "vazio" no loop) */
@keyframes autoroll4{
  0%,24.999%{transform:translateX(0)}
  25%,49.999%{transform:translateX(-100%)}
  50%,74.999%{transform:translateX(-200%)}
  75%,99.999%{transform:translateX(-300%)}
  100%{transform:translateX(0)}
}

/* helpers de preenchimento */
.fillrow{display:flex;flex-direction:column;gap:1rem;min-height:0}
.fill{flex:1;display:flex;flex-direction:column;min-height:0}

/* respeita acessibilidade: se o sistema pedir menos movimento, congela o slider */
@media (prefers-reduced-motion: reduce){ .slides{animation:none !important;} }

/* ---------- Utils ---------- */
.muted{color:var(--muted)}
.pill{padding:.25rem .55rem;border:1px solid var(--border);border-radius:999px;font-size:.75rem;color:var(--muted)}
.mt-3{margin-top:.75rem}
footer{margin-top:2rem;padding:2rem 0;border-top:1px solid var(--border);color:var(--muted)}
